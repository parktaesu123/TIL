## μ†μΌ“(sockek)μ΄λ€?

<aside>

π’΅ **μ†μΌ“(Socket)**μ€ λ„¤νΈμ›ν¬ ν†µμ‹ μ—μ„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•Β **μΆ…μ°©μ (endpoint)**μ΄λ‹¤.

</aside>

- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” λ° μ‚¬μ©λλ‹¤.
- **`OSI 7κ³„μΈµ`** μ¤‘ μ‘μ© κ³„μΈµμ— μ†ν•λ” **ν”„λ΅μ„Έμ¤**λ“¤μ€ λ°μ΄ν„° μ†΅μμ‹ μ„ μ„ν•΄ λ°λ“μ‹ **μ†μΌ“**μ„ κ±°μ³ μ „μ†΅ κ³„μΈµμΌλ΅ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•΄μ•Όν•λ‹¤γ€‚
- μ†μΌ“μ€ μ „μ†΅ κ³„μΈµκ³Ό μ‘μ© ν”„λ΅κ·Έλ¨ μ‚¬μ΄μ **μΈν„°νμ΄μ¤ μ—­ν• **μ„ ν•λ©° λ–¨μ–΄μ Έ μλ” λ‘ νΈμ¤νΈλ¥Ό μ—°κ²°ν•΄μ¤€λ‹¤.

**μ†μΌ“μ κµ¬μ„±μ”μ†**

- **`ν”„λ΅ν† μ½`**
    - λ„¤νΈμ›ν¬ ν†µμ‹ μ„ μ„ν•΄ μ‚¬μ©λλ”Β **κ·μΉ™**
    - **TCP**μ™€Β **UDP**
- **`IP`**
    - **IP μ£Όμ†**λ” λ„¤νΈμ›ν¬ μƒμ—μ„ μ¥μΉμ μ„μΉλ¥Ό λ‚νƒ€λ‚΄λ”Β **κ³ μ  μ‹λ³„μμ΄λ‹¤.**
    - μ£Όμ†λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ–΄λ””λ΅ λ³΄λ‚΄μ•Ό ν• μ§€ μ• μμλ‹¤.
- **`ν¬νΈ λ²νΈ`**
    - ν¬νΈ λ²νΈλ” ν†µμ‹ μ„ μ‚¬μ©ν•λ” μ–΄ν”λ¦¬μΌ€μ΄μ…μ„ μ‹λ³„ν•λ” λ²νΈμ΄λ‹¤.
    - **κ°™μ€ μ»΄ν“¨ν„° λ‚΄μ—μ„ ν”„λ΅κ·Έλ¨μ„ μ‹λ³„ν•λ” λ²νΈμ΄λ‹¤.

> **μ†μΌ“**μ€ λ‘ μ»΄ν“¨ν„°κ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ λ• μ‚¬μ©ν•λ” μƒμλ΅ λ³Ό μμλ‹¤. **`λ°μ΄ν„°(λ¬Όκ±΄)`**λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄μ„  **`μƒμ(μ†μΌ“)`**λ¥Ό μ¤€λΉ„ν•΄μ•Ό ν•λ” κ²ƒμ²λΌ, ν†µμ‹ μ„ ν•κΈ° μ„ν•΄μ„  λ¨Όμ € **μ†μΌ“**μ„ λ§λ“¤μ–΄μ•Ό ν•λ‹¤.
IP μ£Όμ†λ”Β **νƒλ°°λ¥Ό λ³΄λ‚Ό μ»΄ν“¨ν„°μ μ„μΉ**λ¥Ό μλ―Έν•λ‹¤. IPμ£Όμ†λ¥Ό ν†µν•΄ μ–΄λ μ§‘(μ»΄ν“¨ν„°)μΌλ΅ νƒλ°°λ¥Ό λ³΄λ‚Όμ§€ μ• μ μλ‹¤.
ν¬νΈ λ²νΈλ” κ·Έ μ§‘μ—μ„ νƒλ°°λ¥Ό λ°›μ„ μ°νΈν•¨(νΉμ • ν”„λ΅κ·Έλ¨)μ„ μ •ν•΄μ¤€λ‹¤. μ¦‰, νΉμ • μ»΄ν“¨ν„°μ νΉμ • ν”„λ΅κ·Έλ¨μ΄ λ°μ΄ν„°λ¥Ό λ°›κΈ° μ„ν•΄ λ€κΈ°ν•κ³  μλ” μλ¦¬μ΄λ‹¤.
> 

### μ†μΌ“μ μΆ…λ¥

---

**TCP(Transmission Control Protocol) / μ¤νΈλ¦Ό μ†μΌ“(Stream Socket)**

- **μ—°κ²°μ§€ν–¥ λ°©μ‹**μ΄λ‹¤.
- μ‹ λΆ°μ„±μλ” λ°μ΄ν„° μ „μ†΅μ„ μ κ³µν•λ‹¤.
    - λ°μ΄ν„°λ” μμ„λ€λ΅ μ „μ†΅λκ³ , μ†μ‹¤μ΄ λ°μƒν•λ©΄ **μ¬μ „μ†΅**λλ‹¤.
- λ€λ¶€λ¶„μ λ„¤νΈμ›ν¬ μ• ν”λ¦¬μΌ€μ΄μ…μ€ **`μ¤νΈλ¦Ό μ†μΌ“`**μ„ μ‚¬μ©ν•λ‹¤.
- μ†λ‰μ λ°μ΄ν„°λ³΄λ‹¤ λ€λ‰ λ°μ΄ν„° μ „μ†΅μ— μ ν•©ν•λ‹¤.

**UDP μ†μΌ“ / λ°μ΄ν„°κ·Έλ¨ μ†μΌ“(Datagram Socket)**

- **λΉ„μ—°κ²° μ§€ν–¥ λ°©μ‹**μ΄λ‹¤.
- λΉ„μ‹ λΆ°μ„± λ°μ΄ν„° μ „μ†΅μ„ μ κ³µν•λ‹¤.
    - λ°μ΄ν„°λ” **κ°λ³„μ μΈ λ°μ΄ν„°κ·Έλ¨**μΌλ΅ μ „μ†΅λλ©°, μμ„ λ³΄μ¥μ΄λ‚ μ¬μ „μ†΅ κΈ°λ¥μ΄ μ—†λ‹¤.
- μ‹¤μ‹κ°„ μ „μ†΅μ΄ μ¤‘μ”ν• κ²½μ°(μ: μ¤νΈλ¦¬λ°, μ¨λΌμΈ κ²μ„) μ‚¬μ©λλ‹¤.

*~~(TCPμ™€ UDPλ” λ‹¤λ¥Έ νμ΄μ§€μ—μ„ κΉμ΄ νλ³΄λ„λ΅ ν•μ)~~*

### μ–‘λ°©ν–¥ ν†µμ‹ 

---

> ν΄λΌμ΄μ–ΈνΈλ‹¨κ³Ό μ„λ²„λ‹¨μ΄ μ„λ΅ μ—°κ²°λμ–΄ μμ„λ• **μ–‘λ°©ν–¥**(ν΄λΌμ΄μ–ΈνΈ -> μ„λ²„, μ„λ²„ -> ν΄λΌμ΄μ–ΈνΈ) μΌλ΅ μ”μ²­μ„ λ³΄λ‚΄ ν†µμ‹ μ„ ν•  μ μκ² ν•΄μ£Όλ” κ²ƒ
> 
- **TCPν†µμ‹ **μ—μ„λ” μ†μΌ“μ„ μ΄μ©ν• μ—°κ²°λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤.
    - μ–‘λ°©ν–¥ ν†µμ‹ μ΄ κ°€λ¥ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ‹¨κ³Ό μ„λ²„λ‹¨μ μ—°κ²°μ΄ λμ–΄μ§€μ§€μ•κ³  κ³„μ† μ—°κ²°μ„ μ μ§€ν•΄μ£Όμ–΄ μ‹¤μ‹κ°„ μ†ν†µμ΄ κ°€λ¥ν•λ‹¤.

## μ†μΌ“μ ν†µμ‹ κ³Όμ •

---

**μ„λ²„(server)**

> **ν΄λΌμ΄μ–ΈνΈ μ†μΌ“**μ μ—°κ²° μ”μ²­μ„ λ€κΈ°ν•κ³ , μ—°κ²° μ”μ²­μ΄ μ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ†μΌ“μ„ μƒμ„±ν•μ—¬ ν†µμ‹ μ΄ κ°€λ¥ν•κ² ν•λ‹¤
> 
1. **`socket()`** ν•¨μλ¥Ό μ΄μ©ν•μ—¬ μ†μΌ“μ„ μƒμ„±ν•λ‹¤.
2. **`bind()`** ν•¨μλ΅ **ip**μ™€ **port** λ²νΈλ¥Ό μ„¤μ •ν•λ‹¤.
3. **`listen()`** ν•¨μλ΅ ν΄λΌμ΄μ–ΈνΈμ μ ‘κ·Ό μ”μ²­μ— μμ‹  λ€κΈ°μ—΄μ„ λ§λ“¤μ–΄ λ‡ κ°μ ν΄λΌμ΄μ–ΈνΈλ¥Ό λ€κΈ° μ‹ν‚¬μ§€ κ²°μ •ν•λ‹¤.
4. **`accept()`** ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€μ μ—°κ²°μ„ κΈ°λ‹¤λ¦°λ‹¤.

**ν΄λΌμ΄μ–ΈνΈ(client)**

> μ‹¤μ λ΅ λ°μ΄ν„° μ†΅μμ‹ μ΄ μΌμ–΄λ‚λ” κ²ƒμ€ **ν΄λΌμ΄μ–ΈνΈ μ†μΌ“**μ΄λ‹¤.
> 
1. **`socket()`** ν•¨μλ΅ κ°€μ¥ λ¨Όμ € μ†μΌ“μ„ μ—°λ‹¤.
2. **`connect()`** ν•¨μλ¥Ό μ΄μ©ν•μ—¬ ν†µμ‹  ν•  μ„λ²„μ μ„¤μ •λ **ip**μ™€ **port** λ²νΈμ— ν†µμ‹ μ„ μ‹λ„ν•λ‹¤.
3. ν†µμ‹ μ„ μ‹λ„ μ‹, μ„λ²„κ°€ **`accept()`** ν•¨μλ¥Ό μ΄μ©ν•μ—¬ **μƒλ΅μ΄ μ†μΌ“(μμ‹ μ†μΌ“)**μ„ μƒμ„±ν•κ³  ν΄λΌμ΄μ–ΈνΈμ **socket descriptor**λ¥Ό λ°ν™ν•λ‹¤. (socket descriptorλ” ν†µμ‹ μ— μ‚¬μ©λλ” κ³ μ ν• μ‹λ³„μ) **μ›λ μ„λ²„ μ†μΌ“(λ¶€λ¨ μ†μΌ“)**μ€ κ³„μ†ν•΄μ„ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈμ μ—°κ²° μ”μ²­μ„ λ€κΈ°ν•κ³ ,Β **μμ‹ μ†μΌ“**μ€ μ—°κ²°λ ν΄λΌμ΄μ–ΈνΈμ™€ ν†µμ‹ μ„ μ „λ‹΄ν•κ² λλ‹¤.
4. μ΄λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅ **`read()`**, **`write()`** λ¥Ό ν•λ©° ν†µμ‹ ν•λ‹¤. (μ΄ κ³Όμ •μ΄ λ°λ³µλλ‹¤.)

### **`read()`μ™€Β `write()` ν•¨μ**

---

> **μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄ νΈμ¶ν•λ” ν•¨μ**
> 

**`write()`Β ν•¨μ: λ°μ΄ν„° μ „μ†΅**

- **`write()`**λ”Β **λ°μ΄ν„°λ¥Ό μƒλ€λ°©μ—κ² λ³΄λ‚΄λ” ν•¨μμ΄λ‹¤.**
- μ΄λ•, λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ” μ½μ—μ„λ”Β **μƒλ€λ°©μ μ†μΌ“ λ””μ¤ν¬λ¦½ν„°**λ¥Ό ν†µν•΄ νΉμ • ν΄λΌμ΄μ–ΈνΈλ‚ μ„λ²„λ¥Ό μ‹λ³„ν•΄ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  μ μλ‹¤.

**`read()`Β ν•¨μ: λ°μ΄ν„° μμ‹ **

- **`read()`**λ”Β **μƒλ€λ°©μΌλ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λ” ν•¨μ**λ΅, μ΄ ν•¨μλ„ μ†μΌ“ λ””μ¤ν¬λ¦½ν„°λ¥Ό μ‚¬μ©ν•΄ λ°μ΄ν„°λ¥Ό λ°›μ„ μƒλ€λ°©μ„ μ‹λ³„ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ„λ΅κ°€ λ³΄λ‚Έ λ°μ΄ν„°λ¥Ό μμ‹ ν•κ³  μ½μ–΄λ“¤μ΄λ©° ν•„μ”ν• μ²λ¦¬λ¥Ό ν•  μ μλ‹¤.

<aside>

**μ„ ν•¨μλ“¤μ΄ λ°λ³µ νΈμ¶λλ©΄μ„ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ”Β μ–‘λ°©ν–¥ ν†µμ‹ μ„ μ§€μ†ν•λ©° λ°μ΄ν„°λ¥Ό κµν™ν•λ‹¤. μλ¥Ό λ“¤μ–΄, ν΄λΌμ΄μ–ΈνΈκ°€Β `write()`λ΅ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ„λ²„λ”Β `read()`λ΅ ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό μμ‹ ν•κ³ , μ΄ν›„ μ„λ²„λ” μ²λ¦¬ κ²°κ³Όλ¥Ό λ‹¤μ‹Β `write()`λ΅ ν΄λΌμ΄μ–ΈνΈμ— μ‘λ‹µν•  μ μλ‹¤.**

</aside>

<aside>

**μ†μΌ“ ν†µμ‹ μ κ³Όμ • ex) νƒλ°° κ³Όμ •** π“¦

- **μ†μΌ“ μ¤€λΉ„ν•κΈ°**: λ¨Όμ € νƒλ°°λ¥Ό λ³΄λ‚΄κΈ° μ„ν•΄ νƒλ°° μƒμλ¥Ό μ¤€λΉ„ν•λ“―μ΄, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” μ†μΌ“μ„ μ¤€λΉ„ν•λ‹¤.
- **μ—°κ²° μ”μ²­ν•κΈ°**: ν΄λΌμ΄μ–ΈνΈλ” νƒλ°°λ¥Ό λ³΄λ‚Ό μ‚¬λμ²λΌ μƒμμ— λ„£μ„ λ°μ΄ν„°λ¥Ό μ¤€λΉ„ν•κ³ , μƒλ€λ°© μ»΄ν“¨ν„°(μ£Όμ†)μ™€ ν¬νΈ λ²νΈ(μ°νΈν•¨)μ— μ—°κ²°ν•΄λ‹¬λΌκ³  μ”μ²­ν•λ‹¤.
- **μ—°κ²° μλ½ν•κΈ°**: μ„λ²„λ” μ΄ μ”μ²­μ„ λ°›μ•„λ“¤μ—¬μ„ μ—°κ²°μ„ μλ½ν•λ‹¤. μ¦‰, νƒλ°°λ¥Ό λ°›μ„ μ¤€λΉ„λ¥Ό ν•λ‹¤.
- **λ°μ΄ν„° μ „μ†΅**: μ—°κ²°μ΄ λλ©΄ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² λ°μ΄ν„°λ¥Ό λ³΄λ‚΄κ³ , μ„λ²„λ„ ν•„μ”ν•λ©΄ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ©΄μ„ μ„λ΅ μ£Όκ³  λ°›λ”λ‹¤.
- **μ—°κ²° μΆ…λ£ν•κΈ°**: ν†µμ‹ μ΄ λλ‚λ©΄ μ„λ΅ μ—°κ²°μ„ μΆ…λ£ν•λ‹¤. λ§μΉ νƒλ°°λ¥Ό λ¨λ‘ μ£Όκ³ λ°›μ€ ν›„ μƒμλ¥Ό μ •λ¦¬ν•λ” κ²ƒμ²λΌ
</aside>

### μ°Έκ³ μλ£

https://play-with.tistory.com/313

https://velog.io/@newdana01/%EC%86%8C%EC%BC%93%EC%9D%B4%EB%9E%80-%EC%A2%85%EB%A5%98-%ED%86%B5%EC%8B%A0-%ED%9D%90%EB%A6%84-HTTP%ED%86%B5%EC%8B%A0%EA%B3%BC%EC%9D%98-%EC%B0%A8%EC%9D%B4

https://shg-engineer.tistory.com/21

https://helloworld-88.tistory.com/215

https://sooolog.dev/HTTP-%ED%86%B5%EC%8B%A0%EA%B3%BC-TCP-%ED%86%B5%EC%8B%A0-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%9B%B9-%EC%86%8C%EC%BC%93%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC/
