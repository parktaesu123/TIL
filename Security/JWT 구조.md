# JWT κµ¬μ΅°

<aside>
π€ JWT κµ¬μ΅°

</aside>

- JWTλ” .μ„ κµ¬λ¶„μλ΅ λ‚λ„μ–΄μ§€λ” μ„Έ κ°€μ§€ λ¬Έμμ—΄μ μ΅°ν•©μ΄λ‹¤.
- .μ„ κΈ°μ¤€μΌλ΅ μΆμΈ΅λ¶€ν„° Header, Payload, Signatureλ¥Ό μλ―Έν•λ‹¤.

## Header(ν—¤λ”)

---

<aside>
π€ **Headerλ” λ‘ κ°€μ§€ μ •λ³΄λ¥Ό λ‹΄κ³  μλ‹¤.**

</aside>

1. **typ**
    - ν† ν°μ νƒ€μ…μ„ μ§€μ •ν•©λ‹λ‹¤. (ex: JWT)
2. **alg**
    - ν•΄μ‹± μ•κ³ λ¦¬μ¦μ„ μ§€μ •ν•©λ‹λ‹¤. (λ³΄ν†µ `HMAC SHA256`Β νΉμ€Β `RSA` κ°€ μ‚¬μ©λλ‹¤.)
    - μ΄ μ•κ³ λ¦¬μ¦μ€ ν† ν°μ„ κ²€μ¦ν•λ” signatureλ¶€λ¶„μ—μ„ μ‚¬μ©λλ‹¤.

## Payload

---

<aside>
π€ **Payloadμ—λ” ν† ν°μ— λ‹΄μ„ μ •λ³΄μΈ β€Claimβ€™μ΄ λ“¤μ–΄μλ‹¤.**

</aside>

- μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³  λ°›λ” μ‹μ¤ν…μ—μ„ μ‹¤μ λ΅ **μ‚¬μ©λ  μ •λ³΄μ— λ€ν• λ‚΄μ©**μ΄ λ‹΄κ²¨μλ‹¤.
- **Key-value** ν•μ‹μΌλ΅ μ΄λ£¨μ–΄μ§„ ν• μμ μ •λ³΄λ¥Ό **Claim**μ΄λΌκ³  ν•λ‹¤.

### Payloadμ λ¶„λ¥

<aside>
π€ **Payloadλ” μ •ν•΄μ§„ λ°μ΄ν„° νƒ€μ…μ€ μ—†μ§€λ§ 3κ°€μ§€λ΅ λ‚λ μ μλ‹¤.**

</aside>

### Registed(λ“±λ΅λ) Claims

- iss ( issuer ; λ°ν–‰μ )
- exp ( expireation time ; λ§λ£ μ‹κ°„ )
- sub ( subject ; μ λ© )
- iat ( issued At ; λ°ν–‰ μ‹κ°„ )
- jti( JWT ID)

### Public(κ³µκ°) claims

- μ‚¬μ©μκ°€ μ •μν•  μ μλ” ν΄λ μ„ κ³µκ°μ© μ •λ³΄ μ „λ‹¬μ„ μ„ν•΄ μ‚¬μ©ν•λ‹¤.
- κ³µκ° ν΄λ μ„λ“¤μ€ μ¶©λμ΄ λ°©μ§€λ μ΄λ¦„μ„ κ°€μ§€κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤. μ¶©λμ„ λ°©μ§€ν•κΈ° μ„ν•΄μ„λ”, ν΄λ μ„ μ΄λ¦„μ„Β [URI](https://en.wikipedia.org/wiki/Uniform_resource_identifier)Β ν•μ‹μΌλ΅ μ§“λ”λ‹¤.

```
{
    "https://velopert.com/jwt_claims/is_admin": true
}
```

### Private(λΉ„κ³µκ°) claims

- ν•΄λ‹Ήν•λ” λ‹Ήμ‚¬μλ“¤ κ°„μ— μ •λ³΄λ¥Ό κ³µμ ν•κΈ° μ„ν•΄ λ§λ“¤μ–΄μ§„ μ‚¬μ©μ μ§€μ • ν΄λ μ„ μ™Έλ¶€μ— κ³µκ°λλ„ μƒκ΄€μ—†μ§€λ§ ν•΄λ‹Ή μ μ €λ¥Ό νΉμ •ν•  μ μλ” μ •λ³΄λ“¤μ„ λ‹΄λ”λ‹¤.
- κ³µκ° ν΄λ μ„κ³Όλ” λ‹¬λ¦¬ μ΄λ¦„μ΄ μ¤‘λ³µλμ–΄ μ¶©λμ΄ λ  μ μμΌλ‹ μ‚¬μ©ν•  λ•μ— μ μν•΄μ•Ό ν•λ‹¤.

```
{
    "username": "velopert"
}
```

## Signature

---

<aside>
π€ **Header + Payload** μ™€ μ„λ²„κ°€ κ°–κ³  μλ” μ μΌν• **keyκ°’**μ„ ν•©μΉ κ²ƒμ„ Headerμ—μ„ μ•κ³ λ¦¬μ¦μΌλ΅ μ•”νΈν™”ν• κ°’μ΄λ‹¤.

</aside>

- Headerμ™€ Payloadλ” λ‹¨μν **Base64URL**λ΅ μΈμ½”λ”© λμ–΄μμ–΄ λ„κµ¬λ‚ μ‰½κ² λ””μ½”λ”© ν•  μ μμ§€λ§,
- Signatureμ keyκ°€ μ—†μΌλ©΄ λ””μ½”λ”© ν•  μ μ—†λ‹¤. (λ³΄μ•μƒ μ•μ „ν•λ‹¤.)

> **μ•μ„ μ–ΈκΈ‰ν• κ²ƒμ²λΌ**
> 
- Headerμ—μ„ μ„ μ–Έν• μ•κ³ λ¦¬μ¦μ— λ”°λΌ keyλ” κ°μΈ ν‚¤κ°€ λ  μλ„ μκ³  λΉ„λ°€ ν‚¤κ°€ λ  μλ„ μλ‹¤.
    - κ°μΈ ν‚¤λ΅ μ„λ…ν–λ‹¤λ©΄ κ³µκ° ν‚¤λ΅ μ ν¨μ„± κ²€μ‚¬λ¥Ό ν•  μ μκ³ 
    - λΉ„λ°€ ν‚¤λ΅ μ„λ…ν–λ‹¤λ©΄ λΉ„λ°€ ν‚¤λ¥Ό κ°€μ§€κ³  μλ” μ‚¬λλ§μ΄ μ•”νΈν™” λ³µνΈν™”, μ ν¨μ„± κ²€μ‚¬λ¥Ό ν•  μ μλ‹¤.
